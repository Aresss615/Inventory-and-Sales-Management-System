CREATE DATABASE IF NOT EXISTS invsys;

USE invsys;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    full_name VARCHAR(100) NOT NULL,
    role ENUM('admin', 'manager', 'staff') NOT NULL DEFAULT 'staff',
    is_active TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL UNIQUE,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS products (
    id INT AUTO_INCREMENT PRIMARY KEY,
    sku VARCHAR(50) NOT NULL UNIQUE,
    name VARCHAR(255) NOT NULL,
    barcode VARCHAR(50) NOT NULL UNIQUE,
    category_id INT NOT NULL,
    stock INT NOT NULL DEFAULT 0,
    price DECIMAL(10, 2) NOT NULL,
    minStock INT NOT NULL DEFAULT 0,
    created_by INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE RESTRICT,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS sales (
    id INT AUTO_INCREMENT PRIMARY KEY,
    product_id INT NOT NULL,
    product_name VARCHAR(255) NOT NULL,
    qty INT NOT NULL,
    price DECIMAL(10, 2) NOT NULL,
    total DECIMAL(10, 2) NOT NULL,
    category_id INT NOT NULL,
    sale_date DATE NOT NULL,
    sold_by INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE,
    FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE RESTRICT,
    FOREIGN KEY (sold_by) REFERENCES users(id) ON DELETE SET NULL
);

INSERT INTO users (username, password, email, full_name, role) VALUES
('admin', '$2y$10$Ju84KdnU.2WqnP2VHqtJHei9WytParY0TezXKfQBhrW9N0Kedg7aG', 'admin@invsys.com', 'System Administrator', 'admin'),
('manager', '$2y$10$Ju84KdnU.2WqnP2VHqtJHei9WytParY0TezXKfQBhrW9N0Kedg7aG', 'manager@invsys.com', 'Store Manager', 'manager'),
('staff', '$2y$10$Ju84KdnU.2WqnP2VHqtJHei9WytParY0TezXKfQBhrW9N0Kedg7aG', 'staff@invsys.com', 'Staff Member', 'staff');

INSERT INTO categories (name, description) VALUES
('Electronics', 'Electronic devices and accessories'),
('Clothing', 'Apparel and fashion items'),
('Home & Living', 'Home and garden products'),
('Sports & Outdoors', 'Sports and fitness equipment'),
('Food & Beverages', 'Food items and drinks'),
('Health & Beauty', 'Personal care and cosmetics'),
('Books & Stationery', 'Reading materials and office supplies'),
('Toys & Hobbies', 'Toys and hobby items');

INSERT INTO products (sku, name, barcode, category_id, stock, price, minStock, created_by) VALUES
('ELEC-001', 'Samsung Galaxy A54 5G', '8801643990009', 1, 25, 22990.00, 5, 1),
('ELEC-002', 'iPhone 13 128GB', '0194252707067', 1, 15, 39990.00, 3, 1),
('ELEC-003', 'JBL Flip 6 Bluetooth Speaker', '6925281977237', 1, 40, 6495.00, 10, 1),
('ELEC-004', 'Sony WH-1000XM5 Headphones', '4548736141629', 1, 12, 19995.00, 5, 1),
('ELEC-005', 'Xiaomi Redmi Note 12 Pro', '6934177781940', 1, 30, 13999.00, 8, 1),
('ELEC-006', 'Samsung 55" 4K Smart TV', '8806092125483', 1, 8, 34990.00, 2, 1),
('ELEC-007', 'Apple AirPods Pro 2nd Gen', '0194253398585', 1, 20, 14995.00, 5, 1),
('ELEC-008', 'Logitech MX Master 3S Mouse', '5099206098632', 1, 35, 5495.00, 10, 1),
('CLTH-001', 'Levi\'s 501 Original Jeans', '5400898383043', 2, 50, 3995.00, 15, 1),
('CLTH-002', 'Nike Air Force 1 Sneakers', '0193655394689', 2, 30, 5495.00, 10, 1),
('CLTH-003', 'Uniqlo AIRism Cotton T-Shirt', '2300276833984', 2, 100, 590.00, 30, 1),
('CLTH-004', 'Adidas Originals Hoodie', '4066759356405', 2, 45, 3295.00, 12, 1),
('CLTH-005', 'H&M Casual Button-Down Shirt', '0720452626983', 2, 60, 1299.00, 20, 1),
('CLTH-006', 'Penshoppe Denim Jacket', '9780123456789', 2, 25, 1795.00, 8, 1),
('CLTH-007', 'Bench Plain Basic Tee', '4800888000001', 2, 120, 399.00, 40, 1),
('CLTH-008', 'Skechers Go Walk Shoes', '0195173648519', 2, 40, 3795.00, 12, 1),
('HOME-001', 'Philips Air Fryer XXL', '8710103929543', 3, 18, 7995.00, 5, 1),
('HOME-002', 'Tefal Rice Cooker 1.8L', '3045386378579', 3, 25, 2495.00, 8, 1),
('HOME-003', 'IKEA Kallax Shelf Unit', '0092654321098', 3, 12, 3999.00, 3, 1),
('HOME-004', 'Dyson V11 Vacuum Cleaner', '5025155067598', 3, 6, 32995.00, 2, 1),
('HOME-005', 'Lock & Lock Food Container Set', '8801005300001', 3, 45, 895.00, 15, 1),
('HOME-006', 'Muji Aroma Diffuser', '4550002516123', 3, 30, 1895.00, 10, 1),
('HOME-007', 'SM Home Bed Sheet Set Queen', '6287654320987', 3, 35, 1499.00, 10, 1),
('HOME-008', 'Imarflex Desk Fan 16"', '4806734000012', 3, 22, 1295.00, 8, 1),
('SPRT-001', 'Nike Pro Dri-FIT Training Shirt', '0196149020785', 4, 55, 1895.00, 15, 1),
('SPRT-002', 'Adidas Tiro Training Pants', '4066761784074', 4, 40, 2495.00, 12, 1),
('SPRT-003', 'Yoga Mat 6mm Non-Slip', '6098765432109', 4, 60, 895.00, 20, 1),
('SPRT-004', 'Spalding NBA Basketball', '0029321783102', 4, 28, 1695.00, 10, 1),
('SPRT-005', 'Decathlon Domyos Dumbbell 5kg', '8543210987654', 4, 35, 599.00, 12, 1),
('SPRT-006', 'Coleman Camping Tent 4-Person', '0076501151985', 4, 10, 8995.00, 3, 1),
('SPRT-007', 'Speedo Swim Goggles', '5053744343198', 4, 48, 795.00, 15, 1),
('SPRT-008', 'Wilson Tennis Racket', '0883813579884', 4, 15, 3295.00, 5, 1),
('FOOD-001', 'Lucky Me! Pancit Canton 60g (Pack of 10)', '4800016001581', 5, 200, 125.00, 50, 2),
('FOOD-002', 'Nescafe 3-in-1 Original 30s', '4800361340144', 5, 150, 189.00, 40, 2),
('FOOD-003', 'Alaska Evaporated Milk 370ml', '4800888201041', 5, 180, 35.00, 60, 2),
('FOOD-004', 'Del Monte Spaghetti Sauce 500g', '4800024511017', 5, 95, 75.00, 30, 2),
('FOOD-005', 'Pringles Original 110g', '0038000845000', 5, 120, 89.00, 40, 2),
('FOOD-006', 'C2 Green Tea Apple 1L', '4800016038570', 5, 250, 42.00, 80, 2),
('FOOD-007', 'Skyflakes Crackers 850g', '4800016055010', 5, 140, 115.00, 45, 2),
('FOOD-008', 'Eden Cheese 165g', '4800016012815', 5, 110, 68.00, 35, 2),
('HLTH-001', 'Cetaphil Gentle Skin Cleanser 500ml', '0302993920304', 6, 45, 895.00, 15, 2),
('HLTH-002', 'Bioderma Sensibio H2O 500ml', '3701129800706', 6, 35, 1295.00, 10, 2),
('HLTH-003', 'Human Nature Sunflower Oil 100ml', '2002345678901', 6, 60, 299.00, 20, 2),
('HLTH-004', 'Colgate Total Toothpaste 150g', '8850006329108', 6, 90, 185.00, 30, 2),
('HLTH-005', 'Belo Essentials Whitening Lotion 200ml', '4806501100011', 6, 75, 245.00, 25, 2),
('HLTH-006', 'Safeguard Bar Soap 135g (3s)', '4902430910262', 6, 130, 129.00, 40, 2),
('HLTH-007', 'Nivea Men Face Wash 100g', '4005808730070', 6, 55, 225.00, 18, 2),
('HLTH-008', 'Maybelline Fit Me Foundation', '0041554498530', 6, 40, 399.00, 12, 2),
('BOOK-001', 'Mongol Pencil No. 2 (Box of 12)', '4800111222333', 7, 85, 89.00, 25, 2),
('BOOK-002', 'Stabilo Boss Highlighter Set', '4006381333658', 7, 50, 295.00, 15, 2),
('BOOK-003', 'Pilot G-Tec C4 Pen Black (12s)', '4902505359316', 7, 65, 399.00, 20, 2),
('BOOK-004', 'Campus Notebook 100 Leaves', '6291001234567', 7, 150, 49.00, 50, 2),
('BOOK-005', 'Oxford Dictionary English', '0194001234567', 7, 25, 495.00, 8, 2),
('BOOK-006', 'HP Printer Paper A4 500 Sheets', '0887758791998', 7, 40, 385.00, 15, 2),
('BOOK-007', 'Dong-A Correction Tape', '8801238100011', 7, 95, 45.00, 30, 2),
('BOOK-008', 'Post-it Notes 3x3 Canary Yellow', '0051141273129', 7, 70, 175.00, 25, 2),
('TOYS-001', 'LEGO Classic Creative Box', '5702016117097', 8, 22, 2495.00, 8, 2),
('TOYS-002', 'Hot Wheels Basic Car (Random)', '0887961909845', 8, 80, 125.00, 25, 2),
('TOYS-003', 'Barbie Fashionista Doll', '0887961954227', 8, 35, 799.00, 12, 2),
('TOYS-004', 'Nerf Elite 2.0 Blaster', '5010993690329', 8, 18, 1895.00, 6, 2),
('TOYS-005', 'Play-Doh 8-Pack Rainbow', '5010993695478', 8, 45, 495.00, 15, 2),
('TOYS-006', 'Rubik\'s Cube 3x3 Original', '0778988403914', 8, 55, 595.00, 18, 2),
('TOYS-007', 'UNO Card Game', '0746775036430', 8, 60, 349.00, 20, 2),
('TOYS-008', 'Tamiya Mini 4WD Starter Pack', '4950344957422', 8, 28, 1295.00, 10, 2);

INSERT INTO sales (product_id, product_name, qty, price, total, category_id, sale_date, sold_by) VALUES
(3, 'JBL Flip 6 Bluetooth Speaker', 2, 6495.00, 12990.00, 1, '2025-11-01', 3),
(10, 'Nike Air Force 1 Sneakers', 2, 5495.00, 10990.00, 2, '2025-11-03', 3),
(11, 'Uniqlo AIRism Cotton T-Shirt', 5, 590.00, 2950.00, 2, '2025-11-03', 2),
(15, 'Bench Plain Basic Tee', 8, 399.00, 3192.00, 2, '2025-11-04', 3),
(41, 'Cetaphil Gentle Skin Cleanser 500ml', 2, 895.00, 1790.00, 6, '2025-11-05', 2),
(45, 'Belo Essentials Whitening Lotion 200ml', 3, 245.00, 735.00, 6, '2025-11-05', 3),
(1, 'Samsung Galaxy A54 5G', 1, 22990.00, 22990.00, 1, '2025-11-06', 2),
(5, 'Xiaomi Redmi Note 12 Pro', 2, 13999.00, 27998.00, 1, '2025-11-06', 3),
(25, 'Nike Pro Dri-FIT Training Shirt', 4, 1895.00, 7580.00, 4, '2025-11-07', 3),
(27, 'Yoga Mat 6mm Non-Slip', 3, 895.00, 2685.00, 4, '2025-11-07', 2),
(37, 'Pringles Original 110g', 6, 89.00, 534.00, 5, '2025-11-08', 3),
(38, 'C2 Green Tea Apple 1L', 10, 42.00, 420.00, 5, '2025-11-08', 3),
(49, 'Mongol Pencil No. 2 (Box of 12)', 8, 89.00, 712.00, 7, '2025-11-09', 2),
(51, 'Pilot G-Tec C4 Pen Black (12s)', 4, 399.00, 1596.00, 7, '2025-11-09', 3),
(57, 'LEGO Classic Creative Box', 2, 2495.00, 4990.00, 8, '2025-11-10', 2),
(60, 'Nerf Elite 2.0 Blaster', 1, 1895.00, 1895.00, 8, '2025-11-10', 3),
(19, 'Philips Air Fryer XXL', 2, 7995.00, 15990.00, 3, '2025-11-11', 2),
(20, 'Tefal Rice Cooker 1.8L', 3, 2495.00, 7485.00, 3, '2025-11-11', 3),
(8, 'Logitech MX Master 3S Mouse', 2, 5495.00, 10990.00, 1, '2025-11-12', 2),
(12, 'Adidas Originals Hoodie', 3, 3295.00, 9885.00, 2, '2025-11-13', 3),
(28, 'Spalding NBA Basketball', 2, 1695.00, 3390.00, 4, '2025-11-14', 2),
(44, 'Colgate Total Toothpaste 150g', 5, 185.00, 925.00, 6, '2025-11-15', 3),
(35, 'Alaska Evaporated Milk 370ml', 12, 35.00, 420.00, 5, '2025-11-16', 2),
(36, 'Del Monte Spaghetti Sauce 500g', 4, 75.00, 300.00, 5, '2025-11-16', 3),
(2, 'iPhone 13 128GB', 1, 39990.00, 39990.00, 1, '2025-11-17', 2),
(4, 'Sony WH-1000XM5 Headphones', 1, 19995.00, 19995.00, 1, '2025-11-17', 3),
(11, 'Uniqlo AIRism Cotton T-Shirt', 6, 590.00, 3540.00, 2, '2025-12-01', 3),
(15, 'Bench Plain Basic Tee', 10, 399.00, 3990.00, 2, '2025-12-01', 2),
(33, 'Lucky Me! Pancit Canton 60g (Pack of 10)', 8, 125.00, 1000.00, 5, '2025-12-01', 3),
(38, 'C2 Green Tea Apple 1L', 15, 42.00, 630.00, 5, '2025-12-02', 2),
(46, 'Safeguard Bar Soap 135g (3s)', 6, 129.00, 774.00, 6, '2025-12-02', 3),
(6, 'Samsung 55" 4K Smart TV', 1, 34990.00, 34990.00, 1, '2025-12-03', 2),
(7, 'Apple AirPods Pro 2nd Gen', 2, 14995.00, 29990.00, 1, '2025-12-03', 3),
(26, 'Adidas Tiro Training Pants', 3, 2495.00, 7485.00, 4, '2025-12-04', 2),
(29, 'Decathlon Domyos Dumbbell 5kg', 4, 599.00, 2396.00, 4, '2025-12-04', 3),
(50, 'Stabilo Boss Highlighter Set', 5, 295.00, 1475.00, 7, '2025-12-05', 2),
(52, 'Campus Notebook 100 Leaves', 15, 49.00, 735.00, 7, '2025-12-05', 3),
(58, 'Hot Wheels Basic Car (Random)', 12, 125.00, 1500.00, 8, '2025-12-06', 2),
(63, 'UNO Card Game', 4, 349.00, 1396.00, 8, '2025-12-06', 3),
(1, 'Samsung Galaxy A54 5G', 2, 22990.00, 45980.00, 1, '2025-12-07', 2),
(5, 'Xiaomi Redmi Note 12 Pro', 3, 13999.00, 41997.00, 1, '2025-12-07', 3),
(9, 'Levi\'s 501 Original Jeans', 2, 3995.00, 7990.00, 2, '2025-12-08', 2),
(10, 'Nike Air Force 1 Sneakers', 1, 5495.00, 5495.00, 2, '2025-12-08', 3);
